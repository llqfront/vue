<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta http-equiv="Cache-Control" content="no-transform"/>
    <title>新航路教育 - www.xhanglu.com</title>
    <meta name="keywords" content="新航路教育、HTML5、前端开发、HTML5培训"/>
    <meta name="description" content="新航路教育"/>
    <link rel="stylesheet" href="/css/index.css"/>
    <script type="text/javascript" src="/js/jquery.js"></script>
    <script type="text/javascript" src="/js/sea.js"></script>
    <script type="text/javascript" src="/js/vue.js"></script>
    <style>
        .m {
            width: 1000px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
<div id="example">
  <my-component></my-component>
  <my-parent></my-parent>
</div>
<script type="text/javascript">
    var ChildComponent = Vue.extend({
        props: ['myMessage'], // 数据传递
        template: '<div>{{myMessage}}</div>'
    })
    var Mycomponent = Vue.extend({
        data:function(){ // 数据
            return{
                parentMsg: data.mesg
            }
        },// 模板
        template: `<div>
                    <input v-model="parentMsg">
                    <br>
                    <child-component :my-message="parentMsg"></child-component>
                    </div>`,
        components: {// 父组件下的其他组件
            'child-component': ChildComponent
        }
    });
    var MyParent = Vue.extend({
        data:function(){
            return {
                msg:data.parent.msg
            }
        },
        template:`<div>
                <input v-model="msg">
                <br>
                <input type="button" value="添加事件" @click="alert" />
                <child-component :my-message="msg"></child-component>
                </div>`,
        components: {// 父组件下的其他组件
            'child-component': { // 子组件名称
                props: ['myMessage'], // 数据传递
                template: '<div>{{myMessage}}</div>'
            }
        },
        methods:{
            alert:function(){
                alert('新航路')
            }
        }       
    });
    // 创建根实例1
    var data = {
        "mesg":'叶凡',
        "parent":{
            "msg":"新航路"
        }
    }
    new Vue({
        el: '#example',
        components:{ // 整个组件
            'my-component':Mycomponent,
            'my-parent':MyParent
        }
    });
</script>
</body>
</html>